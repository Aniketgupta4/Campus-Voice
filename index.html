<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Saathi - Advanced College Assistant</title>
    
     <!-- Enhanced Meta Tags -->
    <meta name="description" content="Campus Saathi - Your intelligent multilingual college assistant with AI-powered features, document analysis, and voice recognition.">
    <meta name="keywords" content="college assistant, AI chatbot, multilingual, education, campus helper">
    <meta name="author" content="Campus Saathi Team">
    <meta property="og:title" content="Campus Saathi - Advanced College Assistant">
    <meta property="og:description" content="AI-powered multilingual college assistant with voice recognition and document analysis">
    <meta property="og:type" content="website">
    
    <!-- Enhanced Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23764ba2;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='45' fill='url(%23grad1)' stroke='%23ffffff' stroke-width='2'/%3E%3Ctext x='50' y='60' font-family='Arial, sans-serif' font-size='40' font-weight='bold' text-anchor='middle' fill='white'%3E🎓%3C/text%3E%3C/svg%3E">
    
    <!-- External Libraries -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --warning-gradient: linear-gradient(135deg, #fce38a 0%, #f38181 100%);
            
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #e2e8f0;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border-color: #e2e8f0;
            --card-bg: rgba(255, 255, 255, 0.95);
            --nav-bg: rgba(255, 255, 255, 0.95);
            
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
            --shadow-glow: 0 0 20px rgba(102, 126, 234, 0.3);
            
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --card-bg: rgba(30, 41, 59, 0.95);
            --nav-bg: rgba(15, 23, 42, 0.95);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            overflow-x: hidden;
            transition: var(--transition);
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientFlow 15s ease infinite;
            z-index: -2;
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        .floating-orbs {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(10px);
            animation: floatOrb 20s infinite linear;
        }

        @keyframes floatOrb {
            0% {
                transform: translateY(100vh) translateX(-50px) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% {
                transform: translateY(-100px) translateX(50px) rotate(360deg);
                opacity: 0;
            }
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--nav-bg);
            backdrop-filter: blur(20px);
            z-index: 1000;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            border-bottom: 1px solid var(--border-color);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 28px;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo i {
            font-size: 32px;
            animation: logoSpin 4s ease-in-out infinite;
        }

        @keyframes logoSpin {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
        }

        .nav-links {
            display: flex;
            gap: 32px;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 16px;
            position: relative;
            padding: 8px 16px;
            border-radius: 12px;
            transition: var(--transition);
        }

        .nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--primary-gradient);
            border-radius: 2px;
            transition: var(--transition);
            transform: translateX(-50%);
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            width: 80%;
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Enhanced Language Selector */
        .language-selector {
            position: relative;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            padding: 8px 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            min-width: 120px;
        }

        .language-selector:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-glow);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            margin-top: 8px;
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
            max-height: 300px;
            overflow-y: auto;
        }

        .language-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
        }

        .language-option:last-child {
            border-bottom: none;
        }

        .language-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .language-option.selected {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
        }

        .theme-toggle {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            padding: 10px 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .theme-toggle:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-glow);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--card-bg);
            padding: 8px 16px;
            border-radius: 25px;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .user-menu:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 16px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow-xl);
            transform: scale(0.9);
            transition: var(--transition);
            border: 1px solid var(--border-color);
            position: relative;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: 28px;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: var(--bg-primary);
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .role-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .role-option {
            padding: 20px 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: var(--bg-secondary);
        }

        .role-option:hover,
        .role-option.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .role-icon {
            font-size: 32px;
            margin-bottom: 8px;
            display: block;
            color: var(--text-primary);
        }

        .role-name {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-primary);
        }

        .close-modal {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-muted);
            transition: var(--transition);
        }

        .demo-credentials {
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .demo-title {
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .demo-item {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .dashboard {
            display: none;
            min-height: 100vh;
            padding: 100px 24px 40px;
        }

        .dashboard.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .dashboard-header {
            margin-bottom: 40px;
            text-align: center;
        }

        .dashboard-title {
            font-size: 48px;
            font-weight: 900;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px;
        }

        .dashboard-subtitle {
            font-size: 20px;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 120px 24px 40px;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .hero-content h1 {
            font-size: 4.5rem;
            font-weight: 900;
            margin-bottom: 20px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1;
            animation: slideInUp 1s ease;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 40px;
            animation: fadeIn 1s ease 0.3s both;
            font-weight: 500;
        }

        .feature-badges {
            display: flex;
            gap: 12px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .badge {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            animation: slideInLeft 0.6s ease both;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 50px;
        }

        .cta-button {
            background: var(--secondary-gradient);
            color: white;
            border: none;
            padding: 18px 32px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            box-shadow: var(--shadow-lg);
            text-decoration: none;
        }

        .cta-button.secondary {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        .hero-visual {
            position: relative;
            animation: slideInRight 1s ease 0.4s both;
        }

        .demo-chat {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border-color);
        }

        .demo-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .demo-bot-avatar {
            width: 40px;
            height: 40px;
            background: var(--primary-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .demo-message {
            margin-bottom: 16px;
            padding: 12px 16px;
            border-radius: 15px;
            animation: messageSlide 0.5s ease;
        }

        .bot-msg {
            background: var(--bg-secondary);
            align-self: flex-start;
            margin-right: 50px;
            color: var(--text-primary);
        }

        .user-msg {
            background: var(--primary-gradient);
            color: white;
            align-self: flex-end;
            margin-left: 50px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
            margin-bottom: 60px;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 40px 32px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .stat-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            font-size: 32px;
            color: white;
        }

        .stat-number {
            font-size: 48px;
            font-weight: 900;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: block;
        }

        .stat-label {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .features-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            margin: 40px 0;
            border-radius: var(--border-radius);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 32px;
            margin-bottom: 50px;
        }

        .feature-card {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            overflow: hidden;
            position: relative;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .feature-content {
            position: relative;
            z-index: 1;
            padding: 32px;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-gradient);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            font-size: 32px;
            color: white;
            animation: float 3s ease-in-out infinite;
        }

        .feature-title {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .feature-description {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        .feature-list li::before {
            content: '✓';
            color: #10b981;
            font-weight: bold;
        }

        .search-container {
            position: relative;
            margin-bottom: 40px;
        }

        .search-input {
            width: 100%;
            padding: 24px 140px 24px 28px;
            border: 2px solid var(--border-color);
            border-radius: 50px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 500;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: var(--shadow-glow);
        }

        .search-controls {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }

        .voice-btn, .search-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .voice-btn {
            background: var(--warning-gradient);
            color: white;
        }

        .voice-btn.listening {
            animation: pulse 1.5s ease-in-out infinite;
        }

        .search-btn {
            background: var(--primary-gradient);
            color: white;
        }

        .voice-btn:hover, .search-btn:hover {
            transform: scale(1.1);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .search-results {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            padding: 24px;
            margin-top: 24px;
            border: 1px solid var(--border-color);
            max-height: 600px;
            overflow-y: auto;
        }

        .search-result-item {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .search-result-item:hover {
            background: var(--bg-secondary);
            transform: translateX(4px);
        }

        .search-result-title {
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .search-result-desc {
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .search-result-url {
            color: var(--text-muted);
            font-size: 14px;
        }

        .chat-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-xl);
            overflow: hidden;
            border: 1px solid var(--border-color);
            height: 700px;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: var(--primary-gradient);
            color: white;
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .bot-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .bot-avatar {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .bot-details h3 {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .bot-status {
            font-size: 16px;
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            background: var(--bg-secondary);
        }

        .message {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            animation: messageSlideIn 0.5s ease;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .msg-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
            flex-shrink: 0;
        }

        .bot-msg-avatar {
            background: var(--primary-gradient);
        }

        .user-msg-avatar {
            background: var(--secondary-gradient);
        }

        .msg-content {
            max-width: 75%;
            background: var(--bg-primary);
            padding: 20px 24px;
            border-radius: 20px;
            box-shadow: var(--shadow-sm);
            position: relative;
            border: 1px solid var(--border-color);
        }

        .message.user .msg-content {
            background: var(--primary-gradient);
            color: white;
            border: none;
        }

        .msg-time {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 8px;
            text-align: right;
        }

        .message.user .msg-time {
            color: rgba(255, 255, 255, 0.8);
        }

        .quick-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            padding: 20px 24px;
            background: var(--bg-primary);
            border-top: 1px solid var(--border-color);
        }

        .quick-btn {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.2);
            padding: 12px 18px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .quick-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .chat-input {
            background: var(--bg-primary);
            padding: 24px;
            border-top: 1px solid var(--border-color);
        }

        .input-container {
            display: flex;
            align-items: end;
            gap: 12px;
            background: var(--bg-secondary);
            border-radius: 25px;
            padding: 16px;
            border: 2px solid var(--border-color);
            transition: var(--transition);
        }

        .input-container:focus-within {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        #messageInput {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 16px;
            resize: none;
            outline: none;
            max-height: 120px;
            min-height: 24px;
            font-family: inherit;
            color: var(--text-primary);
            font-weight: 500;
        }

        #messageInput::placeholder {
            color: var(--text-muted);
        }

        .input-actions {
            display: flex;
            gap: 8px;
        }

        .input-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .input-voice-btn {
            background: var(--warning-gradient);
        }

        .input-file-btn {
            background: var(--accent-gradient);
        }

        .input-whatsapp-btn {
            background: var(--success-gradient);
        }

        .input-btn:hover {
            transform: scale(1.1);
        }

        .input-btn.listening {
            animation: pulse 1.5s ease-in-out infinite;
        }

        .file-upload-area {
            background: var(--bg-secondary);
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-bottom: 16px;
            transition: var(--transition);
            cursor: pointer;
        }

        .file-upload-area:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .file-upload-area.dragover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .upload-icon {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 12px;
        }

        .upload-text {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .upload-subtext {
            font-size: 14px;
            color: var(--text-muted);
        }

        .whatsapp-analyzer {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-lg);
        }

        .whatsapp-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .whatsapp-icon {
            width: 40px;
            height: 40px;
            background: #25d366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .whatsapp-textarea {
            width: 100%;
            min-height: 200px;
            padding: 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 14px;
            font-family: monospace;
            resize: vertical;
            margin-bottom: 16px;
        }

        .whatsapp-actions {
            display: flex;
            gap: 12px;
        }

        .analyze-btn {
            background: #25d366;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }

        .processing-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .processing-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .processing-content {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: var(--shadow-xl);
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        @media (max-width: 1200px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .hero-content h1 {
                font-size: 3.5rem;
            }
            
            .features-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .nav-container {
                padding: 0 16px;
            }
            
            .dashboard {
                padding: 100px 16px 40px;
            }
            
            .hero {
                padding: 100px 16px 40px;
            }
            
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .dashboard-title {
                font-size: 32px;
            }
            
            .modal-content {
                margin: 16px;
                padding: 24px;
            }
            
            .role-selector {
                grid-template-columns: 1fr;
            }
            
            .cta-buttons {
                flex-direction: column;
            }
            
            .search-input {
                padding: 20px 120px 20px 20px;
                font-size: 16px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .grid-2 {
                grid-template-columns: 1fr !important;
            }

            .input-actions {
                flex-direction: column;
            }
        }

        .hidden { display: none !important; }
        .visible { display: block !important; }
        .text-center { text-align: center; }
        .loading-text {
            color: var(--text-muted);
            font-style: italic;
            text-align: center;
            padding: 40px;
            font-size: 18px;
        }

        .alert {
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .alert-error {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
    </style>
</head>
<body data-theme="light">
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    <div class="floating-orbs" id="orbs"></div>

    <!-- Processing Overlay -->
    <div class="processing-overlay" id="processingOverlay">
        <div class="processing-content">
            <div class="spinner"></div>
            <h3 id="processingText">Processing...</h3>
            <p id="processingSubtext">Please wait while we analyze your content</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo" onclick="showSection('home')">
                <i class="fas fa-robot"></i>
                <span>Campus Saathi</span>
            </div>
            
            <div class="nav-links" id="navLinks">
                <a href="#" class="nav-link active" onclick="showSection('home')">Home</a>
                <a href="#" class="nav-link" onclick="showSection('search')">Global Search</a>
                <a href="#" class="nav-link" onclick="showSection('chat')">Student Chat</a>
            </div>
            
            <div class="nav-controls">
                <!-- Enhanced Language Selector -->
                <div class="language-selector" onclick="toggleLanguageDropdown()">
                    <i class="fas fa-globe"></i>
                    <span id="currentLanguage">English</span>
                    <i class="fas fa-chevron-down"></i>
                    <div class="language-dropdown" id="languageDropdown">
                        <div class="language-option selected" data-lang="en">
                            <i class="fas fa-flag-usa"></i>
                            <span>English</span>
                        </div>
                        <div class="language-option" data-lang="hi">
                            <i class="fas fa-flag"></i>
                            <span>[translate:हिंदी]</span>
                        </div>
                        <div class="language-option" data-lang="ta">
                            <i class="fas fa-flag"></i>
                            <span>[translate:தமிழ்]</span>
                        </div>
                        <div class="language-option" data-lang="te">
                            <i class="fas fa-flag"></i>
                            <span>[translate:తెలుగు]</span>
                        </div>
                        <div class="language-option" data-lang="gu">
                            <i class="fas fa-flag"></i>
                            <span>[translate:ગુજરાતી]</span>
                        </div>
                        <div class="language-option" data-lang="mr">
                            <i class="fas fa-flag"></i>
                            <span>[translate:मराठी]</span>
                        </div>
                        <div class="language-option" data-lang="kn">
                            <i class="fas fa-flag"></i>
                            <span>[translate:ಕನ್ನಡ]</span>
                        </div>
                        <div class="language-option" data-lang="ml">
                            <i class="fas fa-flag"></i>
                            <span>[translate:മലയാളം]</span>
                        </div>
                    </div>
                </div>
                
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-moon" id="themeIcon"></i>
                    <span id="themeText">Dark</span>
                </button>
                
                <div class="user-menu" id="userMenu" onclick="showLoginModal()">
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 14px;" id="userName">Login</div>
                        <div style="font-size: 12px; color: var(--text-muted);" id="userRole">Guest</div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hidden File Input -->
    <input type="file" id="fileInput" accept=".pdf,.jpg,.jpeg,.png,.gif" multiple style="display: none;">

    <!-- Login Modal -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal-content">
            <button class="close-modal" onclick="hideLoginModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-header">
                <h2 class="modal-title">Welcome to Campus Saathi</h2>
                <p style="color: var(--text-secondary);">Sign in to access your personalized dashboard</p>
            </div>
            
            <div class="demo-credentials">
                <div class="demo-title">🚀 Demo Login - Anyone Can Login!</div>
                <div class="demo-item"><strong>Student:</strong> Use any email (e.g., student@college.edu)</div>
                <div class="demo-item"><strong>HOD:</strong> Use any email (e.g., hod@college.edu)</div>
                <div class="demo-item"><strong>Principal:</strong> Use any email (e.g., principal@college.edu)</div>
                <div class="demo-item"><strong>Password:</strong> Type anything!</div>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Select Your Role</label>
                    <div class="role-selector">
                        <div class="role-option selected" data-role="student">
                            <i class="fas fa-user-graduate role-icon"></i>
                            <div class="role-name">Student</div>
                        </div>
                        <div class="role-option" data-role="hod">
                            <i class="fas fa-user-tie role-icon"></i>
                            <div class="role-name">HOD</div>
                        </div>
                        <div class="role-option" data-role="principal">
                            <i class="fas fa-crown role-icon"></i>
                            <div class="role-name">Principal</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email or Student ID</label>
                    <input type="text" class="form-input" id="loginId" placeholder="Enter any email (e.g., student@college.edu)">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="loginPassword" placeholder="Enter any password">
                </div>
                
                <button type="submit" class="btn-primary">
                    <span>Sign In</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- Home Section -->
    <section id="home" class="dashboard active">
        <div class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h1>Smart Multilingual College Assistant</h1>
                    <p class="hero-subtitle">AI-powered chatbot with true multi-language conversation, document analysis, WhatsApp chat summarizer, and voice recognition</p>
                    
                    <div class="feature-badges">
                        <span class="badge">🌍 8+ Languages</span>
                        <span class="badge">🎤 Voice Recognition</span>
                        <span class="badge">📄 Document Analysis</span>
                        <span class="badge">📱 WhatsApp Summary</span>
                        <span class="badge">🔍 Global Search</span>
                        <span class="badge">📊 Smart Dashboards</span>
                    </div>
                    
                    <div class="cta-buttons">
                        <button class="cta-button" onclick="showLoginModal()">
                            <span>Get Started</span>
                            <i class="fas fa-rocket"></i>
                        </button>
                        <button class="cta-button secondary" onclick="showSection('chat')">
                            <span>Try Chat</span>
                            <i class="fas fa-comments"></i>
                        </button>
                    </div>
                </div>
                
                <div class="hero-visual">
                    <div class="demo-chat">
                        <div class="demo-header">
                            <div class="demo-bot-avatar">🤖</div>
                            <div>
                                <div style="font-weight: 700;">Campus Saathi Assistant</div>
                                <div style="font-size: 14px; color: var(--text-muted);">Online • Multilingual</div>
                            </div>
                        </div>
                        <div class="demo-message bot-msg">
                            [translate:नमस्ते! मैं हिंदी में बात कर सकता हूँ।] 😊
                        </div>
                        <div class="demo-message user-msg">
                            Analyze this PDF document
                        </div>
                        <div class="demo-message bot-msg">
                            📄 Document analyzed! It contains fee structure details for all branches.
                        </div>
                        <div class="demo-message user-msg">
                            [translate:मेरी फीस क्या है?]
                        </div>
                        <div class="demo-message bot-msg">
                            [translate:आपकी कंप्यूटर साइंस फीस: ₹45,000 प्रति सेमेस्टर। स्थिति: ✅ सभी शुल्क का भुगतान!]
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-language"></i></div>
                    <span class="stat-number">8+</span>
                    <span class="stat-label">Languages Supported</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-file-pdf"></i></div>
                    <span class="stat-number">1000+</span>
                    <span class="stat-label">Documents Analyzed</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-whatsapp"></i></div>
                    <span class="stat-number">500+</span>
                    <span class="stat-label">WhatsApp Chats Summarized</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <span class="stat-number">1,250</span>
                    <span class="stat-label">Active Users</span>
                </div>
            </div>

            <div class="features-section">
                <div class="dashboard-header">
                    <h2 class="dashboard-title">True Multilingual Features</h2>
                    <p class="dashboard-subtitle">Complete conversation experience in your preferred language</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-globe-americas"></i>
                            </div>
                            <h3 class="feature-title">True Multi-Language Support</h3>
                            <p class="feature-description">Complete conversations in your chosen language - not just detection!</p>
                            <ul class="feature-list">
                                <li>8+ Indian languages fully supported</li>
                                <li>Complete conversation in selected language</li>
                                <li>All responses in your preferred language</li>
                                <li>Real-time language switching</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-file-image"></i>
                            </div>
                            <h3 class="feature-title">Document Analysis</h3>
                            <p class="feature-description">Upload PDFs and images for instant analysis and summarization</p>
                            <ul class="feature-list">
                                <li>PDF text extraction and analysis</li>
                                <li>Image OCR with high accuracy</li>
                                <li>Intelligent document summarization</li>
                                <li>Multi-format support</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fab fa-whatsapp"></i>
                            </div>
                            <h3 class="feature-title">WhatsApp Chat Analyzer</h3>
                            <p class="feature-description">Paste WhatsApp chats to get detailed summaries and insights</p>
                            <ul class="feature-list">
                                <li>Chat content summarization</li>
                                <li>Participant activity analysis</li>
                                <li>Key topics identification</li>
                                <li>Message statistics and trends</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-microphone"></i>
                            </div>
                            <h3 class="feature-title">Advanced Voice Recognition</h3>
                            <p class="feature-description">Speak in any supported language for natural interaction</p>
                            <ul class="feature-list">
                                <li>Multi-language voice input</li>
                                <li>Real-time speech processing</li>
                                <li>Voice responses in selected language</li>
                                <li>Natural conversation flow</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3 class="feature-title">Intelligent Search</h3>
                            <p class="feature-description">Global search with multilingual results</p>
                            <ul class="feature-list">
                                <li>Search in any supported language</li>
                                <li>Results in your preferred language</li>
                                <li>Smart result ranking</li>
                                <li>Voice search support</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <h3 class="feature-title">Personalized Dashboards</h3>
                            <p class="feature-description">Role-based interfaces in your preferred language</p>
                            <ul class="feature-list">
                                <li>Multilingual dashboard interface</li>
                                <li>Role-specific content</li>
                                <li>Real-time language switching</li>
                                <li>Personalized experience</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Global Search Section -->
    <section id="search" class="dashboard">
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Global Search</h1>
                <p class="dashboard-subtitle">Search in your preferred language with intelligent results</p>
            </div>
            
            <div class="search-container">
                <input type="text" class="search-input" id="globalSearchInput" placeholder="Search in any language... Try voice search!">
                <div class="search-controls">
                    <button class="voice-btn" id="searchVoiceBtn" onclick="startVoiceSearch()">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="search-btn" onclick="performGlobalSearch()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            
            <div class="search-results" id="searchResults" style="display: none;"></div>
        </div>
    </section>

    <!-- Enhanced Chat Section -->
    <section id="chat" class="dashboard">
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1 class="dashboard-title">AI Chat Assistant</h1>
                <p class="dashboard-subtitle">Complete multilingual conversation experience</p>
            </div>

            <!-- WhatsApp Chat Analyzer -->
            <div class="whatsapp-analyzer" id="whatsappAnalyzer" style="display: none;">
                <div class="whatsapp-header">
                    <div class="whatsapp-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; font-size: 18px;">WhatsApp Chat Analyzer</h3>
                        <p style="margin: 0; font-size: 14px; color: var(--text-muted);">Paste your WhatsApp chat export here</p>
                    </div>
                </div>
                <textarea 
                    class="whatsapp-textarea" 
                    id="whatsappInput" 
                    placeholder="Paste your WhatsApp chat here...&#10;&#10;Example format:&#10;[10/25/25, 3:45:32 PM] John: Hey everyone!&#10;[10/25/25, 3:46:15 PM] Sarah: Hi John, how are you?&#10;[10/25/25, 3:47:20 PM] Mike: Ready for tomorrow's exam?"
                ></textarea>
                <div class="whatsapp-actions">
                    <button class="analyze-btn" onclick="analyzeWhatsAppChat()">
                        <i class="fas fa-chart-line"></i>
                        Analyze Chat
                    </button>
                    <button class="analyze-btn" style="background: var(--text-muted);" onclick="closeWhatsAppAnalyzer()">
                        <i class="fas fa-times"></i>
                        Close
                    </button>
                </div>
            </div>

            <!-- File Upload Area -->
            <div class="file-upload-area" id="fileUploadArea" style="display: none;">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">Drop files here or click to upload</div>
                <div class="upload-subtext">Supports PDF, Images (JPG, PNG, GIF)</div>
            </div>
            
            <div class="chat-container">
                <div class="chat-header">
                    <div class="bot-info">
                        <div class="bot-avatar">🤖</div>
                        <div class="bot-details">
                            <h3>Campus Saathi Assistant</h3>
                            <div class="bot-status">Online • Multilingual • Document Analysis • WhatsApp Analyzer</div>
                        </div>
                    </div>
                    <div>
                        <span style="font-size: 16px; opacity: 0.9;" id="detectedLanguage"></span>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="message">
                        <div class="msg-avatar bot-msg-avatar">🤖</div>
                        <div class="msg-content">
                            <p id="newFeaturesText">🆕 <strong>Key Features:</strong></p>
                            <ul style="margin: 12px 0; padding-left: 20px;"


                                      <ul style="margin: 12px 0; padding-left: 20px;">
                                <li id="feature1">🌍 <strong>True multilingual support</strong> - Complete conversations in your language</li>
                                <li id="feature2">📄 <strong>Document analysis</strong> - Upload PDFs and images</li>
                                <li id="feature3">📱 <strong>WhatsApp chat summarizer</strong> - Analyze group conversations</li>
                                <li id="feature4">🎤 <strong>Voice input</strong> - Speak in any supported language</li>
                                <li id="feature5">🔍 <strong>Smart search</strong> - Find info in your language</li>
                            </ul>
                            <p id="tryMessage">💡 Select your language from the top menu and start conversing!</p>
                            <div class="msg-time">Just now</div>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <button class="quick-btn" id="quickFees" onclick="sendQuickMessage('What are my semester fees?')">
                        💰 My Fees
                    </button>
                    <button class="quick-btn" id="quickWifi" onclick="sendQuickMessage('WiFi not working in hostel')">
                        📶 WiFi Help
                    </button>
                    <button class="quick-btn" id="quickExam" onclick="sendQuickMessage('When is my next exam?')">
                        📅 Next Exam
                    </button>
                    <button class="quick-btn" onclick="showWhatsAppAnalyzer()">
                        📱 WhatsApp Analyzer
                    </button>
                    <button class="quick-btn" onclick="showFileUploader()">
                        📄 Upload Document
                    </button>
                </div>
                
                <div class="chat-input">
                    <div class="input-container">
                        <textarea 
                            id="messageInput" 
                            placeholder="Type in any language or use voice input..."
                            rows="1"
                        ></textarea>
                        <div class="input-actions">
                            <button class="input-btn input-voice-btn" id="chatVoiceBtn" onclick="startChatVoice()" title="Voice Input">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="input-btn input-file-btn" onclick="showFileUploader()" title="Upload File">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <button class="input-btn input-whatsapp-btn" onclick="showWhatsAppAnalyzer()" title="WhatsApp Analyzer">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                            <button class="input-btn" onclick="sendMessage()" id="sendBtn" title="Send Message">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Student Dashboard -->
    <section id="studentDashboard" class="dashboard">
        <div class="dashboard-container">
            <div style="background: var(--primary-gradient); color: white; padding: 50px; border-radius: var(--border-radius); margin-bottom: 40px; text-align: center;">
                <div style="width: 120px; height: 120px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 20px; border: 4px solid rgba(255, 255, 255, 0.3);">👨‍🎓</div>
                <div style="font-size: 32px; font-weight: 800; margin-bottom: 8px;" id="studentName">Student Dashboard</div>
                <div style="font-size: 16px; opacity: 0.9;" id="studentDetails">Welcome to your personalized dashboard</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-graduation-cap"></i></div>
                    <span class="stat-number">8.7</span>
                    <span class="stat-label" id="cgpaLabel">Current CGPA</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
                    <span class="stat-number">92%</span>
                    <span class="stat-label" id="attendanceLabel">Attendance</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-rupee-sign"></i></div>
                    <span class="stat-number">₹0</span>
                    <span class="stat-label" id="feesDueLabel">Fees Due</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-book"></i></div>
                    <span class="stat-number">142</span>
                    <span class="stat-label" id="creditsLabel">Credits Earned</span>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="upcomingExamsTitle">📅 Upcoming Exams</h3>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px; margin-bottom: 12px;">
                            <div style="font-weight: 700; color: var(--text-primary);">Database Systems</div>
                            <div style="font-size: 14px; color: var(--text-muted);">October 15, 2025 • 2:00 PM</div>
                        </div>
                        <div style="padding: 16px; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-weight: 700; color: var(--text-primary);">Machine Learning</div>
                            <div style="font-size: 14px; color: var(--text-muted);">October 18, 2025 • 10:00 AM</div>
                        </div>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="recentGradesTitle">📊 Recent Grades</h3>
                        <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border-color);">
                            <span>Software Engineering</span>
                            <span style="font-weight: 700; color: #10b981;">A</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border-color);">
                            <span>Computer Networks</span>
                            <span style="font-weight: 700; color: #10b981;">A-</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 12px 0;">
                            <span>Web Technology</span>
                            <span style="font-weight: 700; color: #10b981;">B+</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- HOD Dashboard -->
    <section id="hodDashboard" class="dashboard">
        <div class="dashboard-container">
            <div style="background: var(--primary-gradient); color: white; padding: 50px; border-radius: var(--border-radius); margin-bottom: 40px; text-align: center;">
                <div style="width: 120px; height: 120px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 20px; border: 4px solid rgba(255, 255, 255, 0.3);">👨‍💼</div>
                <div style="font-size: 32px; font-weight: 800; margin-bottom: 8px;" id="hodTitle">HOD Dashboard</div>
                <div style="font-size: 16px; opacity: 0.9;" id="hodSubtitle">Department Management & Analytics</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <span class="stat-number">320</span>
                    <span class="stat-label" id="deptStudentsLabel">Department Students</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                    <span class="stat-number">24</span>
                    <span class="stat-label" id="facultyLabel">Faculty Members</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                    <span class="stat-number">87%</span>
                    <span class="stat-label" id="avgAttendanceLabel">Avg Attendance</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-trophy"></i></div>
                    <span class="stat-number">8.2</span>
                    <span class="stat-label" id="deptCgpaLabel">Dept Avg CGPA</span>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="analyticsTitle">📊 Department Analytics</h3>
                        <canvas id="hodChart" width="400" height="200" style="margin-top: 20px;"></canvas>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="activitiesTitle">🎯 Recent Activities</h3>
                        <div style="padding: 12px 0; border-bottom: 1px solid var(--border-color);">
                            <div style="font-weight: 600;" id="activity1">Faculty Meeting Scheduled</div>
                            <div style="font-size: 14px; color: var(--text-muted);">Tomorrow 10:00 AM</div>
                        </div>
                        <div style="padding: 12px 0; border-bottom: 1px solid var(--border-color);">
                            <div style="font-weight: 600;" id="activity2">Exam Results Published</div>
                            <div style="font-size: 14px; color: var(--text-muted);">2 hours ago</div>
                        </div>
                        <div style="padding: 12px 0;">
                            <div style="font-weight: 600;" id="activity3">New Admission Applications</div>
                            <div style="font-size: 14px; color: var(--text-muted);">45 pending reviews</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Principal Dashboard -->
    <section id="principalDashboard" class="dashboard">
        <div class="dashboard-container">
            <div style="background: var(--primary-gradient); color: white; padding: 50px; border-radius: var(--border-radius); margin-bottom: 40px; text-align: center;">
                <div style="width: 120px; height: 120px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 20px; border: 4px solid rgba(255, 255, 255, 0.3);">👑</div>
                <div style="font-size: 32px; font-weight: 800; margin-bottom: 8px;" id="principalTitle">Principal Dashboard</div>
                <div style="font-size: 16px; opacity: 0.9;" id="principalSubtitle">Institutional Overview & Management</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-university"></i></div>
                    <span class="stat-number">1,250</span>
                    <span class="stat-label" id="totalStudentsLabel">Total Students</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-user-tie"></i></div>
                    <span class="stat-number">85</span>
                    <span class="stat-label" id="totalFacultyLabel">Faculty Members</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-building"></i></div>
                    <span class="stat-number">6</span>
                    <span class="stat-label" id="departmentsLabel">Departments</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-medal"></i></div>
                    <span class="stat-number">92%</span>
                    <span class="stat-label" id="placementLabel">Placement Rate</span>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="collegeOverviewTitle">📈 College Overview</h3>
                        <canvas id="principalChart" width="400" height="200" style="margin-top: 20px;"></canvas>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-content">
                        <h3 class="feature-title" id="priorityActionsTitle">🚨 Priority Actions</h3>
                        <div style="padding: 12px; background: rgba(245, 158, 11, 0.1); border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #f59e0b;">
                            <div style="font-weight: 600; color: #f59e0b;" id="priority1">Budget Review Pending</div>
                            <div style="font-size: 14px; color: var(--text-muted);">Due: October 20, 2025</div>
                        </div>
                        <div style="padding: 12px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #10b981;">
                            <div style="font-weight: 600; color: #10b981;" id="priority2">Accreditation Documents</div>
                            <div style="font-size: 14px; color: var(--text-muted);">Completed</div>
                        </div>
                        <div style="padding: 12px; background: rgba(239, 68, 68, 0.1); border-radius: 8px; border-left: 4px solid #ef4444;">
                            <div style="font-weight: 600; color: #ef4444;" id="priority3">Infrastructure Maintenance</div>
                            <div style="font-size: 14px; color: var(--text-muted);">Requires attention</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Complete JavaScript with Enhanced Multilingual Support
        let currentUser = null;
        let currentTheme = 'light';
        let isListening = false;
        let recognition = null;
        let currentSection = 'home';
        let selectedLanguage = 'en';

        // Comprehensive Language Support
        const languages = {
            en: { 
                name: 'English', 
                flag: '🇺🇸', 
                code: 'en-US'
            },
            hi: { 
                name: 'हिंदी', 
                flag: '🇮🇳', 
                code: 'hi-IN'
            },
            ta: { 
                name: 'தமிழ்', 
                flag: '🇮🇳', 
                code: 'ta-IN'
            },
            te: { 
                name: 'తెలుగు', 
                flag: '🇮🇳', 
                code: 'te-IN'
            },
            gu: { 
                name: 'ગુજરાતી', 
                flag: '🇮🇳', 
                code: 'gu-IN'
            },
            mr: { 
                name: 'मराठी', 
                flag: '🇮🇳', 
                code: 'mr-IN'
            },
            kn: { 
                name: 'ಕನ್ನಡ', 
                flag: '🇮🇳', 
                code: 'kn-IN'
            },
            ml: { 
                name: 'മലയാളം', 
                flag: '🇮🇳', 
                code: 'ml-IN'
            }
        };

        // Complete Translations for All Languages
        const translations = {
            en: {
                // Interface elements
                home: 'Home',
                search: 'Global Search',
                chat: 'AI Chat',
                login: 'Login',
                logout: 'Logout',
                
                // Welcome messages
                welcomeMessage: 'Welcome to Enhanced EduBot Pro! I\'m your intelligent multilingual college assistant with advanced capabilities.',
                newFeaturesText: 'Key Features:',
                feature1: 'True multilingual support - Complete conversations in your language',
                feature2: 'Document analysis - Upload PDFs and images',
                feature3: 'WhatsApp chat summarizer - Analyze group conversations',
                feature4: 'Voice input - Speak in any supported language',
                feature5: 'Smart search - Find info in your language',
                tryMessage: 'Select your language from the top menu and start conversing!',
                
                // Quick actions
                quickFees: 'My Fees',
                quickWifi: 'WiFi Help',
                quickExam: 'Next Exam',
                
                // Placeholders
                searchPlaceholder: 'Search in any language... Try voice search!',
                chatPlaceholder: 'Type in any language or use voice input...',
                
                // Dashboard labels
                cgpaLabel: 'Current CGPA',
                attendanceLabel: 'Attendance',
                feesDueLabel: 'Fees Due',
                creditsLabel: 'Credits Earned',
                upcomingExamsTitle: 'Upcoming Exams',
                recentGradesTitle: 'Recent Grades',
                
                // HOD Dashboard
                hodTitle: 'HOD Dashboard',
                hodSubtitle: 'Department Management & Analytics',
                deptStudentsLabel: 'Department Students',
                facultyLabel: 'Faculty Members',
                avgAttendanceLabel: 'Avg Attendance',
                deptCgpaLabel: 'Dept Avg CGPA',
                analyticsTitle: 'Department Analytics',
                activitiesTitle: 'Recent Activities',
                activity1: 'Faculty Meeting Scheduled',
                activity2: 'Exam Results Published',
                activity3: 'New Admission Applications',
                
                // Principal Dashboard
                principalTitle: 'Principal Dashboard',
                principalSubtitle: 'Institutional Overview & Management',
                totalStudentsLabel: 'Total Students',
                totalFacultyLabel: 'Faculty Members',
                departmentsLabel: 'Departments',
                placementLabel: 'Placement Rate',
                collegeOverviewTitle: 'College Overview',
                priorityActionsTitle: 'Priority Actions',
                priority1: 'Budget Review Pending',
                priority2: 'Accreditation Documents',
                priority3: 'Infrastructure Maintenance',
                
                // Responses
                greeting: 'Hello! 👋 I\'m EduBot Pro, your multilingual college assistant. I can help with fees, exams, document analysis, WhatsApp chat summaries, and much more!',
                
                studentFees: 'Your Personal Fee Information\n\nHi {name}! 👋\n\nYour Details:\n• Branch: {branch}\n• Year: {year}rd Year\n• Student ID: {id}\n\nFee Status:\n• Semester Fee: ₹45,000\n• Current Status: ✅ All Fees Paid\n• Next Due Date: January 15, 2026\n\n💡 You can view detailed fee history on the student portal anytime!',
                
                generalFees: 'Complete Fee Structure 2025\n\nSemester Fees by Branch:\n• Computer Science Engineering: ₹45,000\n• Electronics & Communication: ₹40,000\n• Mechanical Engineering: ₹38,000\n• Civil Engineering: ₹35,000\n\nPayment Methods: Online portal, bank transfer\n💡 Login to see your personalized fee status!',
                
                examSchedule: 'Upcoming Examination Schedule\n\nOctober 2025 Exams:\n\n🔸 Database Systems - October 15, 2025 • 2:00 PM\n🔸 Machine Learning - October 18, 2025 • 10:00 AM\n🔸 Software Engineering - October 22, 2025 • 9:00 AM\n\n📚 Guidelines: Report 30 minutes before exam time',
                
                wifiHelp: 'WiFi Support & Troubleshooting\n\nNetwork Information:\n• Network Name: College_WiFi\n• Password: Available at reception\n• Coverage: All buildings + hostels\n• Speed: 100 Mbps per user\n\nQuick Solutions:\n1. 🔄 Restart your device\n2. 📱 Forget and reconnect to network\n3. 🌐 Clear browser cache\n4. 📡 Move closer to access point\n\nStill having issues?\n📞 IT Helpdesk: Extension 1234\n📧 Email: it-support@college.edu',
                
                help: 'How Can I Help You?\n\nNew Features:\n• 🌍 Multi-language support (8+ languages)\n• 📄 Document analysis (PDF & Images)\n• 📱 WhatsApp chat summarizer\n• 🎤 Voice input in your language\n\nPopular Queries:\n• "What are my fees?"\n• "Show exam schedule"\n• "WiFi not working"\n• Upload documents or WhatsApp chats!',
                
                languageChanged: 'Language changed to English',
                voiceActivated: 'Voice input activated in English!',
                processingDocument: 'Processing document...',
                documentAnalyzed: 'Document analysis complete!',
                whatsappAnalyzed: 'WhatsApp chat analysis complete!',
                
                default: 'I\'m here to help with college queries in multiple languages! Ask me about fees, exams, WiFi issues, or try uploading documents and WhatsApp chats for analysis. You can also use voice input!'
            },
            
            hi: {
                // Interface elements
                home: 'होम',
                search: 'ग्लोबल सर्च',
                chat: 'AI चैट',
                login: 'लॉगिन',
                logout: 'लॉगआउट',
                
                // Welcome messages
                welcomeMessage: 'एडुबॉट प्रो में आपका स्वागत है! मैं आपका बुद्धिमान बहुभाषी कॉलेज सहायक हूँ।',
                newFeaturesText: 'मुख्य विशेषताएं:',
                feature1: 'सच्चा बहुभाषी समर्थन - आपकी भाषा में पूर्ण बातचीत',
                feature2: 'दस्तावेज़ विश्लेषण - PDF और चित्र अपलोड करें',
                feature3: 'व्हाट्सएप चैट सारांश - समूह बातचीत का विश्लेषण',
                feature4: 'आवाज़ इनपुट - किसी भी समर्थित भाषा में बोलें',
                feature5: 'स्मार्ट खोज - अपनी भाषा में जानकारी खोजें',
                tryMessage: 'ऊपरी मेनू से अपनी भाषा चुनें और बातचीत शुरू करें!',
                
                // Quick actions
                quickFees: 'मेरी फीस',
                quickWifi: 'वाईफाई सहायता',
                quickExam: 'अगली परीक्षा',
                
                // Placeholders
                searchPlaceholder: 'किसी भी भाषा में खोजें... वॉयस सर्च का प्रयास करें!',
                chatPlaceholder: 'किसी भी भाषा में टाइप करें या वॉयस इनपुट का उपयोग करें...',
                
                // Dashboard labels
                cgpaLabel: 'वर्तमान सीजीपीए',
                attendanceLabel: 'उपस्थिति',
                feesDueLabel: 'बकाया फीस',
                creditsLabel: 'अर्जित क्रेडिट',
                upcomingExamsTitle: 'आगामी परीक्षाएं',
                recentGradesTitle: 'हाल के ग्रेड',
                
                // HOD Dashboard
                hodTitle: 'HOD डैशबोर्ड',
                hodSubtitle: 'विभाग प्रबंधन और विश्लेषण',
                deptStudentsLabel: 'विभाग के छात्र',
                facultyLabel: 'संकाय सदस्य',
                avgAttendanceLabel: 'औसत उपस्थिति',
                deptCgpaLabel: 'विभाग औसत सीजीपीए',
                analyticsTitle: 'विभाग विश्लेषण',
                activitiesTitle: 'हाल की गतिविधियां',
                activity1: 'संकाय बैठक निर्धारित',
                activity2: 'परीक्षा परिणाम प्रकाशित',
                activity3: 'नए प्रवेश आवेदन',
                
                // Principal Dashboard
                principalTitle: 'प्राचार्य डैशबोर्ड',
                principalSubtitle: 'संस्थागत अवलोकन और प्रबंधन',
                totalStudentsLabel: 'कुल छात्र',
                totalFacultyLabel: 'संकाय सदस्य',
                departmentsLabel: 'विभाग',
                placementLabel: 'प्लेसमेंट दर',
                collegeOverviewTitle: 'कॉलेज अवलोकन',
                priorityActionsTitle: 'प्राथमिकता कार्य',
                priority1: 'बजट समीक्षा लंबित',
                priority2: 'मान्यता दस्तावेज़',
                priority3: 'अवसंरचना रखरखाव',
                
                // Responses
                greeting: 'नमस्ते! 👋 मैं एडुबॉट प्रो हूँ, आपका बहुभाषी कॉलेज सहायक। मैं फीस, परीक्षा, दस्तावेज़ विश्लेषण, व्हाट्सएप चैट सारांश, और बहुत कुछ में मदद कर सकता हूँ!',
                
                studentFees: 'आपकी व्यक्तिगत फीस जानकारी\n\nनमस्ते {name}! 👋\n\nआपका विवरण:\n• शाखा: {branch}\n• वर्ष: {year}वां वर्ष\n• छात्र आईडी: {id}\n\nफीस स्थिति:\n• सेमेस्टर फीस: ₹45,000\n• वर्तमान स्थिति: ✅ सभी फीस भुगतान\n• अगली देय तिथि: 15 जनवरी, 2026\n\n💡 आप छात्र पोर्टल पर विस्तृत फीस इतिहास देख सकते हैं!',
                
                generalFees: 'पूर्ण फीस संरचना 2025\n\nशाखा के अनुसार सेमेस्टर फीस:\n• कंप्यूटर साइंस इंजीनियरिंग: ₹45,000\n• इलेक्ट्रॉनिक्स और संचार: ₹40,000\n• मैकेनिकल इंजीनियरिंग: ₹38,000\n• सिविल इंजीनियरिंग: ₹35,000\n\nभुगतान विधि: ऑनलाइन पोर्टल, बैंक ट्रांसफर\n💡 व्यक्तिगत फीस स्थिति देखने के लिए लॉगिन करें!',
                
                examSchedule: 'आगामी परीक्षा कार्यक्रम\n\nअक्टूबर 2025 परीक्षाएं:\n\n🔸 डेटाबेस सिस्टम - 15 अक्टूबर, 2025 • 2:00 PM\n🔸 मशीन लर्निंग - 18 अक्टूबर, 2025 • 10:00 AM\n🔸 सॉफ्टवेयर इंजीनियरिंग - 22 अक्टूबर, 2025 • 9:00 AM\n\n📚 दिशानिर्देश: परीक्षा के 30 मिनट पहले उपस्थित हों',
                
                wifiHelp: 'वाईफाई समर्थन और समस्या निवारण\n\nनेटवर्क जानकारी:\n• नेटवर्क नाम: College_WiFi\n• पासवर्ड: रिसेप्शन पर उपलब्ध\n• कवरेज: सभी भवन + छात्रावास\n• गति: 100 एमबीपीएस प्रति उपयोगकर्ता\n\nत्वरित समाधान:\n1. 🔄 अपना डिवाइस रीस्टार्ट करें\n2. 📱 नेटवर्क को भूलकर फिर से जोड़ें\n3. 🌐 ब्राउज़र कैश साफ़ करें\n4. 📡 एक्सेस पॉइंट के पास जाएं\n\nअभी भी समस्या?\n📞 IT हेल्पडेस्क: एक्सटेंशन 1234\n📧 ईमेल: it-support@college.edu',
                
                help: 'मैं आपकी कैसे मदद कर सकता हूँ?\n\nनई सुविधाएं:\n• 🌍 बहुभाषी समर्थन (8+ भाषाएं)\n• 📄 दस्तावेज़ विश्लेषण (PDF और चित्र)\n• 📱 व्हाट्सएप चैट सारांश\n• 🎤 आपकी भाषा में आवाज़ इनपुट\n\nलोकप्रिय प्रश्न:\n• "मेरी फीस क्या है?"\n• "परीक्षा कार्यक्रम दिखाएं"\n• "वाईफाई काम नहीं कर रहा"\n• दस्तावेज़ या व्हाट्सएप चैट अपलोड करें!',
                
                languageChanged: 'भाषा हिंदी में बदली गई',
                voiceActivated: 'हिंदी में आवाज़ इनपुट सक्रिय!',
                processingDocument: 'दस्तावेज़ प्रसंस्करण...',
                documentAnalyzed: 'दस्तावेज़ विश्लेषण पूर्ण!',
                whatsappAnalyzed: 'व्हाट्सएप चैट विश्लेषण पूर्ण!',
                
                default: 'मैं कई भाषाओं में कॉलेज की जानकारी में मदद के लिए यहाँ हूँ! मुझसे फीस, परीक्षा, वाईफाई की समस्याओं के बारे में पूछें, या दस्तावेज़ और व्हाट्सएप चैट विश्लेषण के लिए अपलोड करें!'
            },
            
            ta: {
                // Basic translations for Tamil
                greeting: 'வணக்கம்! 👋 நான் எடுபாட் ப்ரோ, உங்கள் பன்மொழி கல்லூரி உதவியாளர். கட்டணம், தேர்வுகள், ஆவண பகுப்பாய்வு மற்றும் பலவற்றில் உதவ முடியும்!',
                studentFees: 'உங்கள் தனிப்பட்ட கட்டண தகவல்\n\nவணக்கம் {name}! 👋\n\nஉங்கள் விவரங்கள்:\n• பிரிவு: {branch}\n• ஆண்டு: {year}வது ஆண்டு\n• மாணவர் ஐடி: {id}\n\nகட்டண நிலை:\n• செமஸ்டர் கட்டணம்: ₹45,000\n• தற்போதைய நிலை: ✅ அனைத்து கட்டணமும் செலுத்தப்பட்டது',
                languageChanged: 'மொழி தமிழாக மாற்றப்பட்டது',
                default: 'கல்லூரி தகவல்களுக்கு பல மொழிகளில் உதவ நான் இங்கே இருக்கிறேன்! கட்டணம், தேர்வுகள், WiFi பிரச்சினைகள் பற்றி கேட்கவும்!'
            },
            
            te: {
                // Basic translations for Telugu
                greeting: 'నమస్కారం! 👋 నేను ఎడుబాట్ ప్రో, మీ బహుభాషా కాలేజీ సహాయకుడిని. ఫీజులు, పరీక్షలు, డాక్యుమెంట్ విశ్లేషణ మరియు మరిన్నింటిలో సహాయం చేయగలను!',
                studentFees: 'మీ వ్యక్తిగత ఫీజు సమాచారం\n\nనమస్కారం {name}! 👋\n\nమీ వివరాలు:\n• బ్రాంచ్: {branch}\n• సంవత్సరం: {year}వ సంవత్సరం\n• విద్యార్థి ID: {id}\n\nఫీజు స్థితి:\n• సెమిస్టర్ ఫీజు: ₹45,000\n• ప్రస్తుత స్థితి: ✅ అన్ని ఫీజులు చెల్లింపబడ్డాయి',
                languageChanged: 'భాష తెలుగుగా మార్చబడింది',
                default: 'కాలేజీ సమాచారం కోసం బహుళ భాషలలో సహాయం చేయడానికి నేను ఇక్కడ ఉన్నాను! ఫీజులు, పరీక్షలు, WiFi సమస్యల గురించి అడగండి!'
            }
        };

        // Demo Users
        const demoUsers = {
            student: {
                role: 'student',
                name: 'Alex Johnson',
                email: 'student@college.edu',
                id: 'CSE2021001',
                branch: 'Computer Science',
                year: 3,
                cgpa: 8.7,
                attendance: 92,
                fees: 0,
                credits: 142
            },
            hod: {
                role: 'hod',
                name: 'Dr. Sarah Smith',
                email: 'hod@college.edu',
                department: 'Computer Science Engineering'
            },
            principal: {
                role: 'principal',
                name: 'Dr. Michael Williams',
                email: 'principal@college.edu'
            }
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Enhanced Multilingual EduBot Pro initializing...');
            initializeApp();
            setupEventListeners();
            setupVoiceRecognition();
            createFloatingOrbs();
            setupFileUpload();
            updateInterfaceLanguage();
            console.log('✅ Enhanced Multilingual EduBot Pro ready!');
            
            setTimeout(() => {
                showAlert(getTranslation('languageChanged') + ' - True multilingual support enabled!', 'success');
            }, 2000);
        });

        function initializeApp() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
            
            const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
            setLanguage(savedLanguage);
            
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserInterface();
                updateNavigation();
            }
        }

        function setupEventListeners() {
            // Message input
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                });

                messageInput.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                });
            }

            // Global search
            const searchInput = document.getElementById('globalSearchInput');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performGlobalSearch();
                    }
                });
            }

            // Role selection
            document.querySelectorAll('.role-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.role-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // Login form
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }

            // Language options
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    const lang = this.dataset.lang;
                    setLanguage(lang);
                    toggleLanguageDropdown();
                });
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.language-selector')) {
                    document.getElementById('languageDropdown').classList.remove('active');
                }
            });
        }

        function setupVoiceRecognition() {
            if ('webkitSpeechRecognition' in window) {
                recognition = new webkitSpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;

                recognition.onstart = function() {
                    isListening = true;
                    updateVoiceButtons(true);
                };

                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    handleVoiceResult(transcript);
                };

                recognition.onend = function() {
                    isListening = false;
                    updateVoiceButtons(false);
                };

                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    isListening = false;
                    updateVoiceButtons(false);
                };
            }
        }

        function setupFileUpload() {
            const fileInput = document.getElementById('fileInput');
            const fileUploadArea = document.getElementById('fileUploadArea');

            if (fileInput) {
                fileInput.addEventListener('change', handleFileSelection);
            }

            if (fileUploadArea) {
                fileUploadArea.addEventListener('click', () => fileInput.click());
                fileUploadArea.addEventListener('dragover', handleDragOver);
                fileUploadArea.addEventListener('dragleave', handleDragLeave);
                fileUploadArea.addEventListener('drop', handleDrop);
            }
        }

        function createFloatingOrbs() {
            const orbsContainer = document.getElementById('orbs');
            if (!orbsContainer) return;

            for (let i = 0; i < 15; i++) {
                const orb = document.createElement('div');
                orb.className = 'orb';
                
                const size = Math.random() * 80 + 40;
                orb.style.width = size + 'px';
                orb.style.height = size + 'px';
                orb.style.left = Math.random() * 100 + '%';
                orb.style.animationDelay = Math.random() * 20 + 's';
                orb.style.animationDuration = (Math.random() * 15 + 15) + 's';
                
                orbsContainer.appendChild(orb);
            }
        }

        // Enhanced Language Support Functions
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.classList.toggle('active');
        }

        function setLanguage(langCode) {
            selectedLanguage = langCode;
            localStorage.setItem('selectedLanguage', langCode);
            
            const currentLangElement = document.getElementById('currentLanguage');
            if (currentLangElement) {
                currentLangElement.textContent = languages[langCode]?.name || 'English';
            }
            
            // Update language options
            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.lang === langCode) {
                    option.classList.add('selected');
                }
            });

            // Update voice recognition language
            if (recognition) {
                recognition.lang = languages[langCode]?.code || 'en-US';
            }

            // Update interface language
            updateInterfaceLanguage();

            // Show language change notification
            showAlert(getTranslation('languageChanged'), 'success');
        }

        function updateInterfaceLanguage() {
            // Update placeholders
            const searchInput = document.getElementById('globalSearchInput');
            const messageInput = document.getElementById('messageInput');
            
            if (searchInput) {
                searchInput.placeholder = getTranslation('searchPlaceholder');
            }
            if (messageInput) {
                messageInput.placeholder = getTranslation('chatPlaceholder');
            }

            // Update welcome message
            const welcomeMsg = document.getElementById('welcomeMessage');
            const featuresText = document.getElementById('newFeaturesText');
            const tryMsg = document.getElementById('tryMessage');
            
            if (welcomeMsg) welcomeMsg.innerHTML = `<strong>${getTranslation('welcomeMessage')}</strong>`;
            if (featuresText) featuresText.innerHTML = `🆕 <strong>${getTranslation('newFeaturesText')}</strong>`;
            if (tryMsg) tryMsg.textContent = getTranslation('tryMessage');

            // Update feature list
            for (let i = 1; i <= 5; i++) {
                const feature = document.getElementById(`feature${i}`);
                if (feature) {
                    feature.innerHTML = getTranslation(`feature${i}`);
                }
            }

            // Update quick action buttons
            const quickFees = document.getElementById('quickFees');
            const quickWifi = document.getElementById('quickWifi');
            const quickExam = document.getElementById('quickExam');
            
            if (quickFees) quickFees.innerHTML = '💰 ' + getTranslation('quickFees');
            if (quickWifi) quickWifi.innerHTML = '📶 ' + getTranslation('quickWifi');
            if (quickExam) quickExam.innerHTML = '📅 ' + getTranslation('quickExam');

            // Update dashboard labels if visible
            updateDashboardLanguage();
        }

        function updateDashboardLanguage() {
            // Student Dashboard
            const cgpaLabel = document.getElementById('cgpaLabel');
            const attendanceLabel = document.getElementById('attendanceLabel');
            const feesDueLabel = document.getElementById('feesDueLabel');
            const creditsLabel = document.getElementById('creditsLabel');
            const upcomingExamsTitle = document.getElementById('upcomingExamsTitle');
            const recentGradesTitle = document.getElementById('recentGradesTitle');
            
            if (cgpaLabel) cgpaLabel.textContent = getTranslation('cgpaLabel');
            if (attendanceLabel) attendanceLabel.textContent = getTranslation('attendanceLabel');
            if (feesDueLabel) feesDueLabel.textContent = getTranslation('feesDueLabel');
            if (creditsLabel) creditsLabel.textContent = getTranslation('creditsLabel');
            if (upcomingExamsTitle) upcomingExamsTitle.textContent = '📅 ' + getTranslation('upcomingExamsTitle');
            if (recentGradesTitle) recentGradesTitle.textContent = '📊 ' + getTranslation('recentGradesTitle');

            // HOD Dashboard
            const hodTitle = document.getElementById('hodTitle');
            const hodSubtitle = document.getElementById('hodSubtitle');
            const deptStudentsLabel = document.getElementById('deptStudentsLabel');
            const facultyLabel = document.getElementById('facultyLabel');
            const avgAttendanceLabel = document.getElementById('avgAttendanceLabel');
            const deptCgpaLabel = document.getElementById('deptCgpaLabel');
            const analyticsTitle = document.getElementById('analyticsTitle');
            const activitiesTitle = document.getElementById('activitiesTitle');
            
            if (hodTitle) hodTitle.textContent = getTranslation('hodTitle');
            if (hodSubtitle) hodSubtitle.textContent = getTranslation('hodSubtitle');
            if (deptStudentsLabel) deptStudentsLabel.textContent = getTranslation('deptStudentsLabel');
            if (facultyLabel) facultyLabel.textContent = getTranslation('facultyLabel');
            if (avgAttendanceLabel) avgAttendanceLabel.textContent = getTranslation('avgAttendanceLabel');
            if (deptCgpaLabel) deptCgpaLabel.textContent = getTranslation('deptCgpaLabel');
            if (analyticsTitle) analyticsTitle.textContent = '📊 ' + getTranslation('analyticsTitle');
            if (activitiesTitle) activitiesTitle.textContent = '🎯 ' + getTranslation('activitiesTitle');

            // Activities
            const activity1 = document.getElementById('activity1');
            const activity2 = document.getElementById('activity2');
            const activity3 = document.getElementById('activity3');
            
            if (activity1) activity1.textContent = getTranslation('activity1');
            if (activity2) activity2.textContent = getTranslation('activity2');
            if (activity3) activity3.textContent = getTranslation('activity3');

            // Principal Dashboard
            const principalTitle = document.getElementById('principalTitle');
            const principalSubtitle = document.getElementById('principalSubtitle');
            const totalStudentsLabel = document.getElementById('totalStudentsLabel');
            const totalFacultyLabel = document.getElementById('totalFacultyLabel');
            const departmentsLabel = document.getElementById('departmentsLabel');
            const placementLabel = document.getElementById('placementLabel');
            const collegeOverviewTitle = document.getElementById('collegeOverviewTitle');
            const priorityActionsTitle = document.getElementById('priorityActionsTitle');
            
            if (principalTitle) principalTitle.textContent = getTranslation('principalTitle');
            if (principalSubtitle) principalSubtitle.textContent = getTranslation('principalSubtitle');
            if (totalStudentsLabel) totalStudentsLabel.textContent = getTranslation('totalStudentsLabel');
            if (totalFacultyLabel) totalFacultyLabel.textContent = getTranslation('totalFacultyLabel');
            if (departmentsLabel) departmentsLabel.textContent = getTranslation('departmentsLabel');
            if (placementLabel) placementLabel.textContent = getTranslation('placementLabel');
            if (collegeOverviewTitle) collegeOverviewTitle.textContent = '📈 ' + getTranslation('collegeOverviewTitle');
            if (priorityActionsTitle) priorityActionsTitle.textContent = '🚨 ' + getTranslation('priorityActionsTitle');

            // Priority actions
            const priority1 = document.getElementById('priority1');
            const priority2 = document.getElementById('priority2');
            const priority3 = document.getElementById('priority3');
            
            if (priority1) priority1.textContent = getTranslation('priority1');
            if (priority2) priority2.textContent = getTranslation('priority2');
            if (priority3) priority3.textContent = getTranslation('priority3');
        }

        function getTranslation(key) {
            return translations[selectedLanguage]?.[key] || translations['en'][key] || key;
        }

        // File Upload Handlers
        function showFileUploader() {
            const fileUploadArea = document.getElementById('fileUploadArea');
            if (fileUploadArea.style.display === 'none' || !fileUploadArea.style.display) {
                fileUploadArea.style.display = 'block';
                showAlert('📄 ' + getTranslation('processingDocument'), 'success');
            } else {
                fileUploadArea.style.display = 'none';
            }
        }

        function handleFileSelection(event) {
            const files = event.target.files;
            processFiles(files);
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.target.closest('.file-upload-area').classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.target.closest('.file-upload-area').classList.remove('dragover');
        }

        function handleDrop(event) {
            event.preventDefault();
            const area = event.target.closest('.file-upload-area');
            area.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            processFiles(files);
        }

        function processFiles(files) {
            if (files.length === 0) return;

            showProcessing(getTranslation('processingDocument'), 'Analyzing your documents');
            
            Array.from(files).forEach(file => {
                if (file.type === 'application/pdf') {
                    processPDF(file);
                } else if (file.type.startsWith('image/')) {
                    processImage(file);
                } else {
                    showAlert(`Unsupported file type: ${file.name}`, 'error');
                }
            });

            document.getElementById('fileUploadArea').style.display = 'none';
        }

        function processPDF(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const typedarray = new Uint8Array(e.target.result);
                
                pdfjsLib.getDocument(typedarray).promise.then(pdf => {
                    let fullText = '';
                    const promises = [];
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        promises.push(
                            pdf.getPage(i).then(page => {
                                return page.getTextContent().then(content => {
                                    const pageText = content.items.map(item => item.str).join(' ');
                                    return pageText;
                                });
                            })
                        );
                    }
                    
                    Promise.all(promises).then(pages => {
                        fullText = pages.join('\n\n');
                        hideProcessing();
                        
                        const summary = analyzePDFContent(fullText);
                        const response = generatePDFAnalysisResponse(file.name, fullText, summary);
                        addMessage(response, 'bot');
                        
                        showAlert(getTranslation('documentAnalyzed'), 'success');
                    });
                }).catch(error => {
                    hideProcessing();
                    showAlert('Error processing PDF: ' + error.message, 'error');
                });
            };
            reader.readAsArrayBuffer(file);
        }

        function processImage(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                Tesseract.recognize(
                    e.target.result,
                    'eng+hin+tam+tel',
                    {
                        logger: m => {
                            if (m.status === 'recognizing text') {
                                updateProcessing('Extracting text from image...', `Progress: ${Math.round(m.progress * 100)}%`);
                            }
                        }
                    }
                ).then(({ data: { text } }) => {
                    hideProcessing();
                    
                    if (text.trim()) {
                        const response = generateImageAnalysisResponse(file.name, text);
                        addMessage(response, 'bot');
                        showAlert(getTranslation('documentAnalyzed'), 'success');
                    } else {
                        showAlert('No text found in the image', 'error');
                    }
                }).catch(error => {
                    hideProcessing();
                    showAlert('Error processing image: ' + error.message, 'error');
                });
            };
            reader.readAsDataURL(file);
        }

        // WhatsApp Chat Analyzer
        function showWhatsAppAnalyzer() {
            const analyzer = document.getElementById('whatsappAnalyzer');
            if (analyzer.style.display === 'none' || !analyzer.style.display) {
                analyzer.style.display = 'block';
                showAlert('📱 WhatsApp analyzer opened!', 'success');
            } else {
                analyzer.style.display = 'none';
            }
        }

        function closeWhatsAppAnalyzer() {
            document.getElementById('whatsappAnalyzer').style.display = 'none';
        }

        function analyzeWhatsAppChat() {
            const chatInput = document.getElementById('whatsappInput');
            const chatText = chatInput.value.trim();
            
            if (!chatText) {
                showAlert('Please paste WhatsApp chat content first!', 'error');
                return;
            }

            showProcessing('Analyzing WhatsApp chat...', 'Processing messages and generating insights');
            
            setTimeout(() => {
                const analysis = parseWhatsAppChat(chatText);
                hideProcessing();
                
                const response = generateWhatsAppAnalysisResponse(analysis);
                addMessage(response, 'bot');
                
                closeWhatsAppAnalyzer();
                chatInput.value = '';
                showAlert(getTranslation('whatsappAnalyzed'), 'success');
            }, 2000);
        }

        function parseWhatsAppChat(chatText) {
            const lines = chatText.split('\n').filter(line => line.trim());
            const messages = [];
            const participants = new Set();
            const dates = [];
            const timePattern = /\[(\d{1,2}\/\d{1,2}\/\d{2,4},\s*\d{1,2}:\d{2}:\d{2}\s*(?:AM|PM)?)\]\s*([^:]+):\s*(.*)/i;
            
            lines.forEach(line => {
                const match = line.match(timePattern);
                if (match) {
                    const [, timestamp, sender, content] = match;
                    messages.push({ timestamp, sender: sender.trim(), content: content.trim() });
                    participants.add(sender.trim());
                    dates.push(timestamp);
                }
            });

            const totalMessages = messages.length;
            const participantCount = participants.size;
            const wordCount = messages.reduce((count, msg) => count + msg.content.split(' ').length, 0);
            const avgWordsPerMessage = Math.round(wordCount / totalMessages);
            
            const participantMessageCount = {};
            participants.forEach(p => participantMessageCount[p] = 0);
            messages.forEach(msg => participantMessageCount[msg.sender]++);
            const mostActive = Object.entries(participantMessageCount)
                .sort(([,a], [,b]) => b - a)[0];

            const allText = messages.map(m => m.content).join(' ').toLowerCase();
            const commonWords = ['exam', 'study', 'assignment', 'project', 'class', 'college', 'fees', 'result'];
            const topics = commonWords.filter(word => allText.includes(word));

            return {
                totalMessages,
                participantCount,
                participants: Array.from(participants),
                wordCount,
                avgWordsPerMessage,
                mostActive,
                topics,
                dateRange: dates.length > 0 ? { first: dates[0], last: dates[dates.length - 1] } : null
            };
        }

        // Processing State Management
        function showProcessing(title, subtitle) {
            const overlay = document.getElementById('processingOverlay');
            const titleElement = document.getElementById('processingText');
            const subtitleElement = document.getElementById('processingSubtext');
            
            if (titleElement) titleElement.textContent = title;
            if (subtitleElement) subtitleElement.textContent = subtitle;
            if (overlay) overlay.classList.add('active');
        }

        function updateProcessing(title, subtitle) {
            const titleElement = document.getElementById('processingText');
            const subtitleElement = document.getElementById('processingSubtext');
            
            if (titleElement) titleElement.textContent = title;
            if (subtitleElement) subtitleElement.textContent = subtitle;
        }

        function hideProcessing() {
            const overlay = document.getElementById('processingOverlay');
            if (overlay) overlay.classList.remove('active');
        }

        // Login System
        function handleLogin(e) {
            e.preventDefault();
            
            const selectedRole = document.querySelector('.role-option.selected');
            const loginId = document.getElementById('loginId').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            
            if (!selectedRole) {
                showAlert('Please select your role', 'error');
                return;
            }
            
            if (!loginId) {
                showAlert('Please enter your email or ID', 'error');
                return;
            }

            const role = selectedRole.dataset.role;
            const userData = { ...demoUsers[role] };
            
            userData.email = loginId;
            userData.name = generateNameFromEmail(loginId);
            
            currentUser = userData;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            showAlert('Login successful! Welcome to Enhanced EduBot Pro', 'success');
            updateUserInterface();
            updateNavigation();
            hideLoginModal();
            
            setTimeout(() => {
                showRoleDashboard();
            }, 1000);
        }

        function generateNameFromEmail(email) {
            const names = {
                student: ['Alex Johnson', 'Sarah Chen', 'Michael Brown', 'Emily Davis', 'David Wilson'],
                hod: ['Dr. Smith Johnson', 'Dr. Maria Rodriguez', 'Dr. James Wilson', 'Dr. Lisa Zhang'],
                principal: ['Dr. Robert Williams', 'Dr. Jennifer Adams', 'Dr. Michael Thompson']
            };
            
            const role = document.querySelector('.role-option.selected').dataset.role;
            const roleNames = names[role] || names.student;
            
            return roleNames[Math.floor(Math.random() * roleNames.length)];
        }

        function showAlert(message, type = 'success') {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle"></i> ${message}`;
            alert.style.position = 'fixed';
            alert.style.top = '100px';
            alert.style.right = '20px';
            alert.style.zIndex = '3000';
            alert.style.minWidth = '300px';
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.remove();
            }, 4000);
        }

        // Theme Management
        function toggleTheme() {
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        }

        function setTheme(theme) {
            currentTheme = theme;
            document.body.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (themeIcon && themeText) {
                if (theme === 'dark') {
                    themeIcon.className = 'fas fa-sun';
                    themeText.textContent = 'Light';
                } else {
                    themeIcon.className = 'fas fa-moon';
                    themeText.textContent = 'Dark';
                }
            }
        }

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.dashboard').forEach(section => {
                section.classList.remove('active');
            });
            
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                currentSection = sectionId;
            }
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }

        function showLoginModal() {
            if (currentUser) {
                if (confirm('Do you want to logout?')) {
                    logout();
                }
                return;
            }
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.add('active');
            }
        }

        function hideLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.remove('active');
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserInterface();
            showSection('home');
            showAlert('Logged out successfully!', 'success');
            
            const navLinks = document.getElementById('navLinks');
            if (navLinks) {
                navLinks.innerHTML = `
                    <a href="#" class="nav-link active" onclick="showSection('home')">Home</a>
                    <a href="#" class="nav-link" onclick="showSection('search')">Global Search</a>
                    <a href="#" class="nav-link" onclick="showSection('chat')">AI Chat</a>
                `;
            }
        }

        function updateUserInterface() {
            const userName = document.getElementById('userName');
            const userRole = document.getElementById('userRole');
            const userAvatar = document.getElementById('userAvatar');
            
            if (userName && userRole && userAvatar) {
                if (currentUser) {
                    userName.textContent = currentUser.name.split(' ')[0];
                    userRole.textContent = currentUser.role.toUpperCase();
                    userAvatar.innerHTML = getRoleIcon(currentUser.role);
                } else {
                    userName.textContent = 'Login';
                    userRole.textContent = 'Guest';
                    userAvatar.innerHTML = '<i class="fas fa-user"></i>';
                }
            }
        }

        function getRoleIcon(role) {
            const icons = {
                student: '👨‍🎓',
                hod: '👨‍💼',
                principal: '👑'
            };
            return icons[role] || '👤';
        }

        function updateNavigation() {
            const navLinks = document.getElementById('navLinks');
            if (navLinks && currentUser) {
                navLinks.innerHTML = `
                    <a href="#" class="nav-link active" onclick="showSection('home')">Home</a>
                    <a href="#" class="nav-link" onclick="showSection('search')">Global Search</a>
                    <a href="#" class="nav-link" onclick="showSection('chat')">AI Chat</a>
                    <a href="#" class="nav-link" onclick="showRoleDashboard()">My Dashboard</a>
                `;
            }
        }

        function showRoleDashboard() {
            if (!currentUser) {
                showAlert('Please login to access dashboard', 'error');
                return;
            }
            
            const dashboardId = currentUser.role + 'Dashboard';
            showSection(dashboardId);
            
            if (currentUser.role === 'student') {
                updateStudentDashboard();
            } else if (currentUser.role === 'hod') {
                updateHodDashboard();
            } else if (currentUser.role === 'principal') {
                updatePrincipalDashboard();
            }
        }

        function updateStudentDashboard() {
            const studentName = document.getElementById('studentName');
            const studentDetails = document.getElementById('studentDetails');
            
            if (studentName && studentDetails) {
                studentName.textContent = currentUser.name;
                studentDetails.textContent = `${currentUser.branch} • ${currentUser.year}rd Year • Roll: ${currentUser.id}`;
            }
        }

        function updateHodDashboard() {
            setTimeout(() => {
                const canvas = document.getElementById('hodChart');
                if (canvas && window.Chart) {
                    const ctx = canvas.getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['1st Year', '2nd Year', '3rd Year', '4th Year'],
                            datasets: [{
                                label: 'Students',
                                data: [85, 78, 82, 75],
                                backgroundColor: 'rgba(102, 126, 234, 0.8)'
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { display: false } }
                        }
                    });
                }
            }, 100);
        }

        function updatePrincipalDashboard() {
            setTimeout(() => {
                const canvas = document.getElementById('principalChart');
                if (canvas && window.Chart) {
                    const ctx = canvas.getContext('2d');
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['CSE', 'ECE', 'Mechanical', 'Civil'],
                            datasets: [{
                                data: [320, 280, 250, 220],
                                backgroundColor: ['#667eea', '#f093fb', '#4facfe', '#11998e']
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' } }
                        }
                    });
                }
            }, 100);
        }

        // Voice Recognition
        function startVoiceSearch() {
            if (!recognition) {
                showAlert('Voice recognition not supported in your browser', 'error');
                return;
            }
            
            if (isListening) {
                recognition.stop();
                return;
            }
            
            recognition.lang = languages[selectedLanguage]?.code || 'en-US';
            recognition.start();
        }

        function startChatVoice() {
            if (!recognition) {
                showAlert('Voice recognition not supported in your browser', 'error');
                return;
            }
            
            if (isListening) {
                recognition.stop();
                return;
            }
            
            recognition.lang = languages[selectedLanguage]?.code || 'en-US';
            recognition.start();
        }

        function updateVoiceButtons(listening) {
            const buttons = [
                document.getElementById('searchVoiceBtn'),
                document.getElementById('chatVoiceBtn')
            ];
            
            buttons.forEach(btn => {
                if (btn) {
                    if (listening) {
                        btn.classList.add('listening');
                    } else {
                        btn.classList.remove('listening');
                    }
                }
            });
        }

        function handleVoiceResult(transcript) {
            console.log('🎤 Voice input:', transcript);
            
            if (currentSection === 'search') {
                const searchInput = document.getElementById('globalSearchInput');
                if (searchInput) {
                    searchInput.value = transcript;
                    performGlobalSearch();
                    showAlert(getTranslation('voiceActivated'), 'success');
                }
            } else if (currentSection === 'chat') {
                const messageInput = document.getElementById('messageInput');
                if (messageInput) {
                    messageInput.value = transcript;
                    sendMessage();
                    showAlert(getTranslation('voiceActivated'), 'success');
                }
            }
        }

        // Global Search
        function performGlobalSearch() {
            const searchInput = document.getElementById('globalSearchInput');
            const resultsContainer = document.getElementById('searchResults');
            
            if (!searchInput || !resultsContainer) return;
            
            const query = searchInput.value.trim();
            if (!query) return;
            
            resultsContainer.style.display = 'block';
            resultsContainer.innerHTML = `<div class="loading-text">🔍 Searching in ${languages[selectedLanguage]?.name}...</div>`;
            
            setTimeout(() => {
                const searchResults = generateSearchResults(query);
                displaySearchResults(searchResults);
            }, 1500);
        }

        function generateSearchResults(query) {
            const results = [];
            
            // Generate results in selected language
            if (query.toLowerCase().includes('fees') || query.toLowerCase().includes('fee') || 
                query.toLowerCase().includes('फीस') || query.toLowerCase().includes('கட்டணம்') || 
                query.toLowerCase().includes('ఫీజు')) {
                results.push({
                    title: '💰 College Fee Structure 2025',
                    description: getTranslation('generalFees').substring(0, 200) + '...',
                    url: 'internal://fees'
                });
            }
            
            // General web results
            results.push(
                {
                    title: `${query} - Wikipedia Encyclopedia`,
                    description: `Comprehensive information about ${query} from Wikipedia`,
                    url: `https://wikipedia.org/wiki/${encodeURIComponent(query)}`
                },
                {
                    title: `${query} - Latest News & Articles`,
                    description: `Breaking news and latest updates about ${query}`,
                    url: `https://news.google.com/search?q=${encodeURIComponent(query)}`
                }
            );
            
            return results;
        }

        function displaySearchResults(results) {
            const container = document.getElementById('searchResults');
            if (!container) return;
            
            container.innerHTML = `<h3 style="margin-bottom: 20px; color: var(--text-primary);">🔍 Search Results (${results.length} found)</h3>`;
            
            results.forEach((result, index) => {
                const item = document.createElement('div');
                item.className = 'search-result-item';
                item.innerHTML = `
                    <div class="search-result-title">${result.title}</div>
                    <div class="search-result-desc">${result.description}</div>
                    <div class="search-result-url">${result.url}</div>
                `;
                
                item.addEventListener('click', () => {
                    if (result.url.startsWith('internal://')) {
                        handleInternalLink(result.url);
                    } else {
                        window.open(result.url, '_blank');
                    }
                });
                
                container.appendChild(item);
            });
        }

        function handleInternalLink(url) {
            const action = url.replace('internal://', '');
            showSection('chat');
            setTimeout(() => {
                switch (action) {
                    case 'fees':
                        sendQuickMessage('What are the semester fees for all branches?');
                        break;
                    case 'exams':
                        sendQuickMessage('Show me the upcoming exam schedule');
                        break;
                    case 'wifi':
                        sendQuickMessage('WiFi not working, need troubleshooting help');
                        break;
                }
            }, 500);
        }

        // Enhanced Chat System with True Multilingual Support
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            if (!messageInput) return;
            
            const message = messageInput.value.trim();
            if (!message) return;
            
            addMessage(message, 'user');
            messageInput.value = '';
            messageInput.style.height = 'auto';
            
            showTypingIndicator();
            
            setTimeout(() => {
                const response = generateMultilingualResponse(message);
                hideTypingIndicator();
                addMessage(response, 'bot');
            }, 1200);
        }

        function sendQuickMessage(message) {
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.value = message;
                sendMessage();
            }
        }

        function addMessage(content, type) {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const avatar = document.createElement('div');
            avatar.className = `msg-avatar ${type === 'user' ? 'user-msg-avatar' : 'bot-msg-avatar'}`;
            avatar.textContent = type === 'user' ? '👤' : '🤖';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'msg-content';
            contentDiv.innerHTML = `
                ${formatMessage(content)}
                <div class="msg-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
            `;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function formatMessage(content) {
            return content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>')
                .replace(/• /g, '<br>• ');
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="msg-avatar bot-msg-avatar">🤖</div>
                <div style="display: flex; align-items: center; gap: 8px; padding: 20px 24px; background: var(--bg-primary); border-radius: 20px; border: 1px solid var(--border-color);">
                    <span style="color: var(--text-muted);">EduBot is thinking...</span>
                    <div style="display: flex; gap: 4px;">
                        <div style="width: 8px; height: 8px; background: var(--text-muted); border-radius: 50%; animation: typing 1.4s ease-in-out infinite;"></div>
                        <div style="width: 8px; height: 8px; background: var(--text-muted); border-radius: 50%; animation: typing 1.4s ease-in-out 0.2s infinite;"></div>
                        <div style="width: 8px; height: 8px; background: var(--text-muted); border-radius: 50%; animation: typing 1.4s ease-in-out 0.4s infinite;"></div>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) indicator.remove();
        }

        // Enhanced Multilingual Response Generation
        function generateMultilingualResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Enhanced personalized responses for students
            if (currentUser && currentUser.role === 'student') {
                if (lowerMessage.includes('my fees') || lowerMessage.includes('my fee') || 
                    lowerMessage.includes('मेरी फीस') || lowerMessage.includes('என் கட்டணம்') ||
                    lowerMessage.includes('నా ఫీజు')) {
                    return formatPersonalizedResponse(getTranslation('studentFees'), {
                        name: currentUser.name,
                        branch: currentUser.branch,
                        year: currentUser.year,
                        id: currentUser.id
                    });
                }
            }
            
            // General responses based on content
            if (lowerMessage.includes('fees') || lowerMessage.includes('fee') || 
                lowerMessage.includes('फीस') || lowerMessage.includes('கட்டணம்') ||
                lowerMessage.includes('ఫీజు')) {
                return '💰 **' + getTranslation('generalFees') + '**';
            }
            
            if (lowerMessage.includes('exam') || lowerMessage.includes('schedule') || 
                lowerMessage.includes('परीक्षा') || lowerMessage.includes('தேர்வு') ||
                lowerMessage.includes('పరీక్ష')) {
                return '📅 **' + getTranslation('examSchedule') + '**';
            }
            
            if (lowerMessage.includes('wifi') || lowerMessage.includes('internet') || 
                lowerMessage.includes('वाईफाई') || lowerMessage.includes('இன்டர்நெட்') ||
                lowerMessage.includes('వైఫై')) {
                return '📶 **' + getTranslation('wifiHelp') + '**';
            }
            
            if (lowerMessage.includes('help') || lowerMessage.includes('मदद') || 
                lowerMessage.includes('உதவி') || lowerMessage.includes('సహాయం')) {
                return '🤖 **' + getTranslation('help') + '**';
            }
            
            // Greetings
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || 
                lowerMessage.includes('नमस्ते') || lowerMessage.includes('வணக்கம்') ||
                lowerMessage.includes('నమస్కారం') || lowerMessage.includes('નમસ્તે')) {
                return getTranslation('greeting');
            }
            
            // Default response in selected language
            return getTranslation('default');
        }

        function formatPersonalizedResponse(template, data) {
            let response = template;
            Object.keys(data).forEach(key => {
                response = response.replace(`{${key}}`, data[key]);
            });
            return '💰 **' + response + '**';
        }

        // Document Analysis Response Generators
        function generatePDFAnalysisResponse(filename, content, summary) {
            return `📄 **${getTranslation('documentAnalyzed')}**\n\n**File:** ${filename}\n**Word Count:** ${summary.wordCount || 'N/A'}\n\n**Summary:** ${summary.summary || 'Document contains academic content related to college information and procedures.'}\n\n**Key Topics:** ${summary.topics?.join(', ') || 'Academic content, college information'}\n\n💡 You can ask me questions about the content of this document in ${languages[selectedLanguage]?.name}!`;
        }

        function generateImageAnalysisResponse(filename, extractedText) {
            const summary = extractedText.length > 100 ? extractedText.substring(0, 100) + '...' : extractedText;
            
            return `🖼️ **Image Text Extraction Complete**\n\n**File:** ${filename}\n**Text Length:** ${extractedText.length} characters\n\n**Extracted Text:**\n"${summary}"\n\n💡 I've successfully extracted the text from your image. You can now ask me questions about this content in ${languages[selectedLanguage]?.name}!`;
        }

        function generateWhatsAppAnalysisResponse(analysis) {
            return `📱 **${getTranslation('whatsappAnalyzed')}**\n\n**Chat Statistics:**\n• Total Messages: **${analysis.totalMessages}**\n• Participants: **${analysis.participantCount}** (${analysis.participants.join(', ')})\n• Total Words: **${analysis.wordCount}**\n• Avg Words per Message: **${analysis.avgWordsPerMessage}**\n\n**Most Active Participant:** **${analysis.mostActive[0]}** (${analysis.mostActive[1]} messages)\n\n**Key Topics Discussed:** ${analysis.topics.length > 0 ? analysis.topics.join(', ') : 'General conversation'}\n\n**Date Range:** ${analysis.dateRange ? `${analysis.dateRange.first} to ${analysis.dateRange.last}` : 'Not available'}\n\n💡 This chat appears to be ${analysis.topics.length > 0 ? 'focused on academic topics' : 'a general conversation'}!`;
        }

        function analyzePDFContent(text) {
            const wordCount = text.split(/\s+/).length;
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            
            const keywords = ['fee', 'exam', 'student', 'college', 'course', 'admission', 'result', 'schedule'];
            const topics = keywords.filter(keyword => 
                text.toLowerCase().includes(keyword)
            );
            
            const firstSentences = sentences.slice(0, 3).join('. ');
            const summary = firstSentences.length > 200 
                ? firstSentences.substring(0, 200) + '...'
                : firstSentences;
            
            return {
                wordCount,
                topics,
                summary: summary || 'Document contains college-related information.'
            };
        }

        // Make functions globally available
        window.showSection = showSection;
        window.showLoginModal = showLoginModal;
        window.hideLoginModal = hideLoginModal;
        window.toggleTheme = toggleTheme;
        window.toggleLanguageDropdown = toggleLanguageDropdown;
        window.startVoiceSearch = startVoiceSearch;
        window.startChatVoice = startChatVoice;
        window.performGlobalSearch = performGlobalSearch;
        window.sendMessage = sendMessage;
        window.sendQuickMessage = sendQuickMessage;
        window.showRoleDashboard = showRoleDashboard;
        window.showFileUploader = showFileUploader;
        window.showWhatsAppAnalyzer = showWhatsAppAnalyzer;
        window.closeWhatsAppAnalyzer = closeWhatsAppAnalyzer;
        window.analyzeWhatsAppChat = analyzeWhatsAppChat;

        // Final console log
        console.log(`
        🎉 Enhanced Multilingual EduBot Pro - Complete College Assistant
        ✅ True Multilingual Support: Complete conversations in selected language
        🌍 Languages: ${Object.values(languages).map(l => l.name).join(', ')}
        📄 Document Analysis: PDF text extraction, Image OCR
        📱 WhatsApp Analyzer: Chat statistics and content analysis
        🎤 Voice: Multi-language speech recognition with responses in selected language
        🔐 Login: Universal demo login system
        📱 Mobile: Fully responsive design
        🎨 Themes: Beautiful light and dark modes
        `);
    </script>
</body>
</html>

                  
